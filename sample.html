<html>
<head>
	<title>Human Center of Mass</title>
	<link rel="stylesheet" href="css/style.css">
	<style>
	@font-face {
	  font-family: 'open-sans';
	  font-weight:normal;
	  src: url('font/OpenSans-Regular.ttf')  format('truetype'); /* Safari, Android, iOS */
	}
	@font-face {
	  font-family: 'open-sans';
	  font-weight: bold;
	  src: url('font/OpenSans-Bold.ttf')  format('truetype'); /* Safari, Android, iOS */
	}
	@font-face {
	  font-family: 'open-sans';
	  font-weight: lighter;
	  src: url('font/OpenSans-Light.ttf')  format('truetype'); /* Safari, Android, iOS */
	}
	</style>
</head>
<body>
	<h1>Human Center of Mass</h1>

	<p>Click the button to choose an image from your computer</p>

	<label for="loadButton">Image File:</label>
	<input type="file" id="loadButton" name="loadButton" />

	<div id="wrapper">
		<canvas id="imageCanvas"></canvas>
	</div>
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script src="https://code.createjs.com/easeljs-0.8.2.min.js"></script>
	<script type="text/javascript">

		var loadButton = document.getElementById('loadButton');
	    loadButton.addEventListener('change', handleImage, false);
		var canvas = document.getElementById('imageCanvas');
		var ctx = canvas.getContext('2d');

		function getSize(img){
			var imgWidth = img.width;
			var imgHeight = img.height;
			if (imgHeight <= 800 && imgWidth <= 800)
				return {height: imgHeight, width: imgWidth};
			else if (imgWidth > imgHeight) //if landscape
				return {height: 600, width: 800};
			else
				return {height: 800, width: 600};
		}

		function handleImage(e){
		    var reader = new FileReader();
		    reader.onload = function(event){
		        var img = new Image();
		        canvas.width = 800;
		        canvas.height = 600;
		        img.onload = function(){
		            var size = getSize(img);
		            ctx.drawImage(img,0,0, size.width, size.height);
		        }
		        img.src = event.target.result;
		    }
		    reader.readAsDataURL(e.target.files[0]);
		}

	</script>
</body>
</html>
